{
    "input": "data/sample_board.png",
    "output": {
        "format": "both",
        "json_out": "out/grid_demo_report.json",
        "debug_dir": "out/grid_demo_debug"
    },
    "grid": {
        "pyramid_levels": 4,
        "pyramid_blur_levels": 2,
        "spacing_mm": 5.0,
        "intrinsics": {
            "fx": 1200.0,
            "fy": 1200.0,
            "cx": 640.0,
            "cy": 360.0
        },
        "min_cells": 6,
        "confidence_thresh": 0.35,
        "enable_refine": true,
        "refinement_schedule": {
            "passes": 2,
            "improvement_thresh": 0.0005
        },
        "refine": {
            "orientation_tol_deg": 22.5,
            "huber_delta": 1.0,
            "max_iterations": 6,
            "min_bundles_per_family": 4
        },
        "segment_refine": {
            "anchor_search_radius": 3.0,
            "normal_step": 0.5,
            "tangent_step": 0.75,
            "max_grow_steps": 48,
            "gradient_threshold": 0.08,
            "max_normal_shift": 2.0,
            "max_point_dist": 3.5,
            "min_support_points": 4,
            "max_seeds": 3
        },
        "lsd_vp": {
            "mag_thresh": 0.05,
            "angle_tol_deg": 22.5,
            "min_len": 4.0
        },
        "outlier_filter": {
            "angle_margin_deg": 8.0
        },
        "bundling": {
            "orientation_tol_deg": 22.5,
            "merge_dist_px": 1.5,
            "min_weight": 3.0,
            "scale_mode": "full_res"
        }
    }
}
